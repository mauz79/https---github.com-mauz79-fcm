<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Confronti Storici</title>
    <link href="fcmmael.css" rel="stylesheet" type="text/css">
    
    <script src="js/fcmVariabili.js" type="text/javascript"></script>
    <script src="js/fcmLegaDati.js" type="text/javascript"></script>
    <script src="js/fcmGenerale.js" type="text/javascript"></script>
    
    <script src="js/fcmAlboDOroFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmAlboDOroDati.js" type="text/javascript"></script>
    <script src="js/fcmCalendarioFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmCalendarioDati.js" type="text/javascript"></script>
    <script src="js/fcmCompetizioniFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmCompetizioniDati.js" type="text/javascript"></script>
    <script src="js/fcmUtils.js" type="text/javascript"></script>
    <script src="js/fcmClassificaFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmClassificaDati.js" type="text/javascript"></script>
    
    <script src="js/fcmSerieAFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmSerieADati.js" type="text/javascript"></script>
    <script src="js/fcmFantasquadreFunzioni.js" type="text/javascript"></script>
    <script src="js/fcmFantasquadreDati.js" type="text/javascript"></script>

    <script src="js/fcmTabelle.js" type="text/javascript"></script>
    <script src="js/DataA.js" type="text/javascript"></script>

    <script src="persjs/fcmConfrontiFunzioni.js" type="text/javascript"></script>
    <script src="persjs/fcmConfrontiDati.js" type="text/javascript"></script>

    <style>
        .nav-link { color: #000080; text-decoration: none; font-weight: bold; margin: 0 10px; font-family: Verdana; font-size: 11px; }
        .nav-link:hover { color: red; text-decoration: underline; }
        .box-header { background: #2323B3; color: #fff; padding: 5px; font-weight: bold; font-family: Verdana; font-size: 12px; }
    </style>

    <script>
    // Palmares verticale integrato per evitare errori esterni
    function GeneraPalmaresVert(selFsq) {
        var html="<table width='100%' cellspacing='0' cellpadding='2'>";
        var w=[]; for(var k=0;k<arrPalmares.length;k++) w[k]=0;
        for(var p=1;p<arrAdOPosizioni.length;p++){
            if(arrAdOPosizioni[p].idSquadra==selFsq && arrAdOPosizioni[p].posizione==1){
                var cID=arrAdOPosizioni[p].idCompetizione;
                for(var j=1;j<arrPalmares.length;j++) if(arrPalmares[j].Competizione==cID){w[j]++;break;}
            }
        }
        var found=false;
        for(var i=1;i<arrPalmares.length;i++){
            if(w[i]>0){ found=true; html+="<tr><td width='30'><img src='img/"+arrPalmares[i].Icona+"'></td><td><b style='color:#B00;'>"+w[i]+"</b> x "+arrPalmares[i].Label+"</td></tr>"; }
        }
        if(!found) html+="<tr><td><i>Nessun titolo</i></td></tr>";
        html+="</table>";
        document.write(html);
    }
    </script>
</head>
<body>
    <script>
        var cFsq = JSQueryString("Fsq"); var cComp = JSQueryString("Comp"); var cStadio = JSQueryString("Stadio");
        var cFsq2 = JSQueryString("Fsq2"); var cComp2 = JSQueryString("Comp2"); var cStadio2 = JSQueryString("Stadio2");
        var cTipo = JSQueryString("Tipo"); var cVisu = JSQueryString("Visu"); var cTVisu = JSQueryString("TVisu");
        var cFsq3 = JSQueryString("Fsq3"); var cComp3 = JSQueryString("Comp3"); var cStadio3 = JSQueryString("Stadio3");

        if (cFsq == null || cFsq == "") { try { cFsq = arrAdOFantasquadre[1].IDf; } catch(e) { cFsq=1; } }
        if (cComp == null || cComp == "") cComp = 1; if (cStadio == null || cStadio == "") cStadio = "T";
        if (cFsq2 == null || cFsq2 == "") cFsq2 = "0"; if (cComp2 == null || cComp2 == "") cComp2 = "0"; if (cStadio2 == null || cStadio2 == "") cStadio2 = "T";
        if (cTipo == null || cTipo == "") cTipo = "000"; if (cVisu == null || cVisu == "") cVisu = "5"; if (cTVisu == null || cTVisu == "") cTVisu = "S";
        if (cFsq3 == null || cFsq3 == "") cFsq3 = "0";
    </script>

    <div style="text-align:center; padding:10px; background:#eee; border:1px solid #000080; margin-bottom:15px;">
        <a href="confronti.htm" class="nav-link">CONFRONTI</a> |
        <a href="ranking.htm" class="nav-link">RANKING</a> |
        <a href="almanacco.htm" class="nav-link">ALMANACCO</a> |
        <a href="album.htm" class="nav-link">ALBUM</a> |
        <a href="topcosti.htm" class="nav-link">TOP COSTI</a> |
        <a href="topFlopStorico.htm" class="nav-link">TOP FLOP</a>
    </div>

    <h2 style="color:#000080; border-bottom:2px solid #FF9900; font-family:Verdana;">STATISTICHE STORICHE</h2>

    <div style="background:#E0E0E0; border:1px solid #999; padding:5px; text-align:center; margin-bottom:10px;">
        <script>GeneraIntestazioneFantasquadreC(cFsq,cComp,cStadio,cFsq2,cComp2,cStadio2,cTipo,cVisu,cTVisu,cFsq3,cComp3,cStadio3);</script>
    </div>

    <table width="100%" border="0" cellspacing="2">
        <tr valign="top">
            <td width="30%" style="border:1px solid #000080; background:#fff;">
                <div class="box-header">PALMARES</div>
                <div style="padding:5px;">
                    <script>GeneraPalmaresVert(cFsq);</script>
                </div>
            </td>
            <td width="70%" style="border:1px solid #000080; background:#fff;">
                <div class="box-header">BILANCIO PROSSIMO TURNO</div>
                <div style="padding:5px;">
                    <script>
                        // Uso GeneraBilancio() come da istruzioni plugin
                        try { GeneraBilancio(); } catch(e) { document.write("Dati non disponibili o calendario non attivo."); }
                    </script>
                </div>
            </td>
        </tr>
    </table>
    <br>

    <div style="border:1px solid #000080; background:#fff; margin-bottom:10px;">
        <div class="box-header">CONFRONTI DIRETTI</div>
        <div style="padding:5px; overflow-x:auto;">
            <script>GeneraConfronti(cFsq,cComp,cStadio);</script>
        </div>
    </div>

    <div style="border:1px solid #000080; background:#fff; margin-bottom:10px;">
        <div class="box-header">ELENCO INCONTRI (Scegli avversario e clicca VAI)</div>
        <div style="padding:5px; overflow-x:auto; text-align:center;">
            <script>
                GeneraIntestazioneFantasquadreC2(cFsq,cComp,cStadio,cFsq2,cComp2,cStadio2,cTipo,cVisu,cTVisu,cFsq3,cComp3,cStadio3);
                document.write("<br>");
                if (cFsq2 != "0") {
                    GeneraIncontri(cFsq,cFsq2,cComp2,cStadio2);
                } else {
                    document.write("<br><i>Seleziona un avversario per visualizzare i dettagli.</i>");
                }
            </script>
        </div>
    </div>

    <div style="border:1px solid #000080; background:#fff;">
        <div class="box-header">RECORD & CURIOSIT&Agrave; (Scegli record e clicca VAI)</div>
        <div style="padding:5px; overflow-x:auto; text-align:center;">
            <script>
                GeneraIntestazioneRecord(cFsq,cComp,cStadio,cFsq2,cComp2,cStadio2,cTipo,cVisu,cTVisu,cFsq3,cComp3,cStadio3);
                document.write("<br>");
                if (cTipo != "000" && cTipo != "015") {
                    GeneraRecord(cTipo,cVisu,cTVisu,cFsq3,cComp3,cStadio3);
                } else if (cTipo == "000") {
                    document.write("<br><i>Seleziona un tipo di record dal menu.</i>");
                }
            </script>
        </div>
    </div>

    <script>try { Stato("Confronti"); } catch(e) {}</script>
</body>
</html>